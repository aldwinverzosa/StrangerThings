{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Link}from\"react-router-dom\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cohort=\"2208-ftb-et-web-ft\";var strangerThings=\"https://strangers-things.herokuapp.com/api\";var CreatePost=function CreatePost(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var PostHandle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(ev){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ev.preventDefault();console.log(\"TITLE\",title);console.log(\"DESCRIPTION\",description);console.log(\"PRICE\",price);_context.next=6;return fetch(\"\".concat(strangerThings,\"/\").concat(cohort,\"/posts\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))},body:JSON.stringify({post:{title:title,description:description,price:price}})});case 6:response=_context.sent;_context.next=9;return response.json();case 9:data=_context.sent;console.log(\"DATA\",data);setTitle(\"\");setDescription(\"\");setPrice(\"\");case 14:case\"end\":return _context.stop();}}},_callee);}));return function PostHandle(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(Link,{className:\"navBarLink\",to:\"/dashboard\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Create Post\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:PostHandle,children:[\"Title\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:function onChange(event){setTitle(event.target.value);console.log(event.target.value);}}),\"Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:function onChange(event){setDescription(event.target.value);console.log(event.target.value);}}),\"Price:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:price,onChange:function onChange(event){setPrice(event.target.value);console.log(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"text\",children:\"Submit\"})]})]});};export default CreatePost;","map":{"version":3,"names":["React","Link","cohort","strangerThings","CreatePost","useState","title","setTitle","description","setDescription","price","setPrice","PostHandle","ev","preventDefault","console","log","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","post","response","json","data","event","target","value"],"sources":["/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/src/CreatePost.js"],"sourcesContent":["import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport \"./App.css\";\n\nconst cohort = \"2208-ftb-et-web-ft\";\nconst strangerThings = \"https://strangers-things.herokuapp.com/api\";\n\nconst CreatePost = () => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n\n  const PostHandle = async (ev) => {\n    ev.preventDefault();\n    console.log(\"TITLE\", title);\n    console.log(\"DESCRIPTION\", description);\n    console.log(\"PRICE\", price);\n    const response = await fetch(`${strangerThings}/${cohort}/posts`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n\n      body: JSON.stringify({\n        post: {\n          title,\n          description,\n          price,\n        },\n      }),\n    });\n    const data = await response.json();\n    console.log(\"DATA\", data);\n\n    setTitle(\"\");\n    setDescription(\"\");\n    setPrice(\"\");\n  };\n\n  return (\n    <div>\n      <nav>\n        <Link className=\"navBarLink\" to=\"/dashboard\">\n          Dashboard\n        </Link>\n      </nav>\n\n      <h1>Create Post</h1>\n      <form onSubmit={PostHandle}>\n        Title\n        <input\n          type=\"text\"\n          value={title}\n          onChange={(event) => {\n            setTitle(event.target.value);\n            console.log(event.target.value);\n          }}\n        ></input>\n        Description:\n        <input\n          type=\"text\"\n          value={description}\n          onChange={(event) => {\n            setDescription(event.target.value);\n            console.log(event.target.value);\n          }}\n        ></input>\n        Price:\n        <input\n          type=\"text\"\n          value={price}\n          onChange={(event) => {\n            setPrice(event.target.value);\n            console.log(event.target.value);\n          }}\n        ></input>\n        <button type=\"text\">Submit</button>\n      </form>\n    </div>\n  );\n};\n\nexport default CreatePost;\n"],"mappings":"4cAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,WAAP,C,wFAEA,GAAMC,OAAM,CAAG,oBAAf,CACA,GAAMC,eAAc,CAAG,4CAAvB,CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,cAA0BC,QAAQ,CAAC,EAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eACA,eAAsCF,QAAQ,CAAC,EAAD,CAA9C,yCAAOG,WAAP,eAAoBC,cAApB,eACA,eAA0BJ,QAAQ,CAAC,EAAD,CAAlC,yCAAOK,KAAP,eAAcC,QAAd,eAEA,GAAMC,WAAU,4FAAG,iBAAOC,EAAP,sIACjBA,EAAE,CAACC,cAAH,GACAC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBV,KAArB,EACAS,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BR,WAA3B,EACAO,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBN,KAArB,EAJiB,sBAKMO,MAAK,WAAId,cAAJ,aAAsBD,MAAtB,WAAsC,CAChEgB,MAAM,CAAE,MADwD,CAEhEC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,kBAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CAFN,CAFuD,CAOhEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,IAAI,CAAE,CACJpB,KAAK,CAALA,KADI,CAEJE,WAAW,CAAXA,WAFI,CAGJE,KAAK,CAALA,KAHI,CADa,CAAf,CAP0D,CAAtC,CALX,QAKXiB,QALW,qCAoBEA,SAAQ,CAACC,IAAT,EApBF,QAoBXC,IApBW,eAqBjBd,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBa,IAApB,EAEAtB,QAAQ,CAAC,EAAD,CAAR,CACAE,cAAc,CAAC,EAAD,CAAd,CACAE,QAAQ,CAAC,EAAD,CAAR,CAzBiB,uDAAH,kBAAVC,WAAU,4CAAhB,CA4BA,mBACE,oCACE,kCACE,KAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,CAA6B,EAAE,CAAC,YAAhC,uBADF,EADF,cAOE,mCAPF,cAQE,cAAM,QAAQ,CAAEA,UAAhB,gCAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEN,KAFT,CAGE,QAAQ,CAAE,kBAACwB,KAAD,CAAW,CACnBvB,QAAQ,CAACuB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CACAjB,OAAO,CAACC,GAAR,CAAYc,KAAK,CAACC,MAAN,CAAaC,KAAzB,EACD,CANH,EAFF,6BAWE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAExB,WAFT,CAGE,QAAQ,CAAE,kBAACsB,KAAD,CAAW,CACnBrB,cAAc,CAACqB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd,CACAjB,OAAO,CAACC,GAAR,CAAYc,KAAK,CAACC,MAAN,CAAaC,KAAzB,EACD,CANH,EAXF,uBAoBE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEtB,KAFT,CAGE,QAAQ,CAAE,kBAACoB,KAAD,CAAW,CACnBnB,QAAQ,CAACmB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CACAjB,OAAO,CAACC,GAAR,CAAYc,KAAK,CAACC,MAAN,CAAaC,KAAzB,EACD,CANH,EApBF,cA4BE,eAAQ,IAAI,CAAC,MAAb,oBA5BF,GARF,GADF,CAyCD,CA1ED,CA4EA,cAAe5B,WAAf"},"metadata":{},"sourceType":"module"}