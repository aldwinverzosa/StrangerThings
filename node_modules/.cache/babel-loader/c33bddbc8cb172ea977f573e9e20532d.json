{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cohort=\"2208-ftb-et-web-ft\";var strangerThings=\"https://strangers-things.herokuapp.com/api\";var LoginUserSubmit=function LoginUserSubmit(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),LoginName=_useState2[0],setLoginName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),LoginPassword=_useState4[0],setLoginPassword=_useState4[1];var loginSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response,data,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(\"LoginSubmit\");_context.next=4;return fetch(\"\".concat(strangerThings,\"/\").concat(cohort,\"/users/login\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user:{username:LoginName,password:LoginPassword}})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;console.log(\"loginData\",data);_context.next=11;return data.data.token;case 11:token=_context.sent;localStorage.setItem(\"token\",JSON.stringify(token));case 13:case\"end\":return _context.stop();}}},_callee);}));return function loginSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginSubmit,children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:LoginName,onChange:function onChange(event){setLoginName(event.target.value);// console.log(event.target.value);\n}}),\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:LoginPassword,onChange:function onChange(event){setLoginPassword(event.target.value);// console.log(event.target.value);\n}}),/*#__PURE__*/_jsx(\"button\",{type:\"text\",children:\"Log In\"})]})});};export default LoginUserSubmit;","map":{"version":3,"names":["React","useState","cohort","strangerThings","LoginUserSubmit","LoginName","setLoginName","LoginPassword","setLoginPassword","loginSubmit","event","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","user","username","password","response","json","data","token","localStorage","setItem","target","value"],"sources":["/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/src/LogInUser.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\n\nconst cohort = \"2208-ftb-et-web-ft\";\nconst strangerThings = \"https://strangers-things.herokuapp.com/api\";\n\nconst LoginUserSubmit = () => {\n  const [LoginName, setLoginName] = useState(\"\");\n  const [LoginPassword, setLoginPassword] = useState(\"\");\n\n  const loginSubmit = async (event) => {\n    event.preventDefault();\n    console.log(\"LoginSubmit\");\n    const response = await fetch(`${strangerThings}/${cohort}/users/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user: {\n          username: LoginName,\n          password: LoginPassword,\n        },\n      }),\n    });\n    const data = await response.json();\n    console.log(\"loginData\", data);\n    let token = await data.data.token;\n\n    localStorage.setItem(\"token\", JSON.stringify(token));\n  };\n  return (\n    <div>\n      {/* Login Submit Form */}\n      <form onSubmit={loginSubmit}>\n        Name:\n        <input\n          type=\"text\"\n          value={LoginName}\n          onChange={(event) => {\n            setLoginName(event.target.value);\n            // console.log(event.target.value);\n          }}\n        ></input>\n        Password:\n        <input\n          type=\"text\"\n          value={LoginPassword}\n          onChange={(event) => {\n            setLoginPassword(event.target.value);\n            // console.log(event.target.value);\n          }}\n        ></input>\n        <button type=\"text\">Log In</button>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginUserSubmit"],"mappings":"4cAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,GAAMC,OAAM,CAAG,oBAAf,CACA,GAAMC,eAAc,CAAG,4CAAvB,CAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC5B,cAAkCH,QAAQ,CAAC,EAAD,CAA1C,wCAAOI,SAAP,eAAkBC,YAAlB,eACA,eAA0CL,QAAQ,CAAC,EAAD,CAAlD,yCAAOM,aAAP,eAAsBC,gBAAtB,eAEA,GAAMC,YAAW,4FAAG,iBAAOC,KAAP,4IAClBA,KAAK,CAACC,cAAN,GACAC,OAAO,CAACC,GAAR,CAAY,aAAZ,EAFkB,sBAGKC,MAAK,WAAIX,cAAJ,aAAsBD,MAAtB,iBAA4C,CACtEa,MAAM,CAAE,MAD8D,CAEtEC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF6D,CAKtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,IAAI,CAAE,CACJC,QAAQ,CAAEhB,SADN,CAEJiB,QAAQ,CAAEf,aAFN,CADa,CAAf,CALgE,CAA5C,CAHV,QAGZgB,QAHY,qCAeCA,SAAQ,CAACC,IAAT,EAfD,QAeZC,IAfY,eAgBlBb,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBY,IAAzB,EAhBkB,uBAiBAA,KAAI,CAACA,IAAL,CAAUC,KAjBV,SAiBdA,KAjBc,eAmBlBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BV,IAAI,CAACC,SAAL,CAAeO,KAAf,CAA9B,EAnBkB,uDAAH,kBAAXjB,YAAW,4CAAjB,CAqBA,mBACE,kCAEE,cAAM,QAAQ,CAAEA,WAAhB,gCAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEJ,SAFT,CAGE,QAAQ,CAAE,kBAACK,KAAD,CAAW,CACnBJ,YAAY,CAACI,KAAK,CAACmB,MAAN,CAAaC,KAAd,CAAZ,CACA;AACD,CANH,EAFF,0BAWE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEvB,aAFT,CAGE,QAAQ,CAAE,kBAACG,KAAD,CAAW,CACnBF,gBAAgB,CAACE,KAAK,CAACmB,MAAN,CAAaC,KAAd,CAAhB,CACA;AACD,CANH,EAXF,cAmBE,eAAQ,IAAI,CAAC,MAAb,oBAnBF,GAFF,EADF,CA0BD,CAnDD,CAqDA,cAAe1B,gBAAf"},"metadata":{},"sourceType":"module"}