{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cohort=\"2208-ftb-et-web-ft\";var strangerThings=\"https://strangers-things.herokuapp.com/api\";var RegUser=function RegUser(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newUser=_useState2[0],setNewUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),apiSuccess=_useState6[0],setApiSuccess=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(\"NAME AND PASSWORD\",newUser,newPassword);// console.log(\"registerUser\");\n_context.next=4;return fetch(\"\".concat(strangerThings,\"/\").concat(cohort,\"/users/register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user:{username:newUser,password:newPassword}})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;console.log(\"data\",data);//console.log(\"data2\", data.data.token);\n//console.log(\"SUCCESS\", data.success);\napiSuccess=setApiSuccess(data.success);console.log(\"apiSuccess\",apiSuccess);console.log(\"apiSuccess datatype\",typeof apiSuccess);setNewUser(\"\");setNewPassword(\"\");case 14:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Register Now\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[\"NAME\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUser,onChange:function onChange(event){setNewUser(event.target.value);console.log(event.target.value);}}),\"PASSWORD\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newPassword,onChange:function onChange(event){setNewPassword(event.target.value);console.log(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"text\",children:\"Register\"}),/*#__PURE__*/_jsx(\"h4\",{children:apiSuccess}),apiSuccess===false?/*#__PURE__*/_jsx(\"h3\",{children:\"User name already exists!\"}):apiSuccess===true?/*#__PURE__*/_jsx(\"h3\",{children:\"You have successfully registered. Please Login\"}):\"\"]})]});};export default RegUser;","map":{"version":3,"names":["React","useState","cohort","strangerThings","RegUser","newUser","setNewUser","newPassword","setNewPassword","apiSuccess","setApiSuccess","handleSubmit","event","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","user","username","password","response","json","data","success","target","value"],"sources":["/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/src/RegisterUser.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\n\nconst cohort = \"2208-ftb-et-web-ft\";\nconst strangerThings = \"https://strangers-things.herokuapp.com/api\";\n\nconst RegUser = () => {\n  const [newUser, setNewUser] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  let [apiSuccess, setApiSuccess] = useState(\"\");\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    console.log(\"NAME AND PASSWORD\", newUser, newPassword);\n    // console.log(\"registerUser\");\n    const response = await fetch(`${strangerThings}/${cohort}/users/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user: {\n          username: newUser,\n          password: newPassword,\n        },\n      }),\n    });\n\n    const data = await response.json();\n    console.log(\"data\", data);\n    //console.log(\"data2\", data.data.token);\n    //console.log(\"SUCCESS\", data.success);\n    apiSuccess = setApiSuccess(data.success);\n    console.log(\"apiSuccess\", apiSuccess);\n    console.log(\"apiSuccess datatype\", typeof apiSuccess);\n    setNewUser(\"\");\n    setNewPassword(\"\");\n  };\n  return (\n    <div>\n      <div>\n        {/* <nav className=\"nav\">\n          <Link className=\"navBarLink\" to=\"/allposts\">\n            ShowAllPosts\n          </Link>\n          <Link className=\"navBarLink\" to=\"/login\">\n            Login\n          </Link>\n          <Link className=\"navBarLink\" to=\"/home\">\n            Home\n          </Link>\n        </nav> */}\n      </div>\n      <h1>Register Now</h1>\n      <form onSubmit={handleSubmit}>\n        NAME\n        <input\n          type=\"text\"\n          value={newUser}\n          onChange={(event) => {\n            setNewUser(event.target.value);\n            console.log(event.target.value);\n          }}\n        ></input>\n        PASSWORD\n        <input\n          type=\"password\"\n          value={newPassword}\n          onChange={(event) => {\n            setNewPassword(event.target.value);\n            console.log(event.target.value);\n          }}\n        ></input>\n        <button type=\"text\">Register</button>\n        <h4>{apiSuccess}</h4>\n        {apiSuccess === false ? (\n          <h3>User name already exists!</h3>\n        ) : apiSuccess === true ? (\n          <h3>You have successfully registered. Please Login</h3>\n        ) : (\n          \"\"\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default RegUser;\n"],"mappings":"4cAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,GAAMC,OAAM,CAAG,oBAAf,CACA,GAAMC,eAAc,CAAG,4CAAvB,CAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,cAA8BH,QAAQ,CAAC,EAAD,CAAtC,wCAAOI,OAAP,eAAgBC,UAAhB,eACA,eAAsCL,QAAQ,CAAC,EAAD,CAA9C,yCAAOM,WAAP,eAAoBC,cAApB,eACA,eAAkCP,QAAQ,CAAC,EAAD,CAA1C,yCAAKQ,UAAL,eAAiBC,aAAjB,eACA,GAAMC,aAAY,4FAAG,iBAAOC,KAAP,sIACnBA,KAAK,CAACC,cAAN,GACAC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCV,OAAjC,CAA0CE,WAA1C,EACA;AAHmB,sBAIIS,MAAK,WAAIb,cAAJ,aAAsBD,MAAtB,oBAA+C,CACzEe,MAAM,CAAE,MADiE,CAEzEC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFgE,CAKzEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,IAAI,CAAE,CACJC,QAAQ,CAAElB,OADN,CAEJmB,QAAQ,CAAEjB,WAFN,CADa,CAAf,CALmE,CAA/C,CAJT,QAIbkB,QAJa,qCAiBAA,SAAQ,CAACC,IAAT,EAjBA,QAiBbC,IAjBa,eAkBnBb,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBY,IAApB,EACA;AACA;AACAlB,UAAU,CAAGC,aAAa,CAACiB,IAAI,CAACC,OAAN,CAA1B,CACAd,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BN,UAA1B,EACAK,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmC,MAAON,WAA1C,EACAH,UAAU,CAAC,EAAD,CAAV,CACAE,cAAc,CAAC,EAAD,CAAd,CAzBmB,uDAAH,kBAAZG,aAAY,4CAAlB,CA2BA,mBACE,oCACE,cADF,cAcE,oCAdF,cAeE,cAAM,QAAQ,CAAEA,YAAhB,+BAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEN,OAFT,CAGE,QAAQ,CAAE,kBAACO,KAAD,CAAW,CACnBN,UAAU,CAACM,KAAK,CAACiB,MAAN,CAAaC,KAAd,CAAV,CACAhB,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACiB,MAAN,CAAaC,KAAzB,EACD,CANH,EAFF,yBAWE,cACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAEvB,WAFT,CAGE,QAAQ,CAAE,kBAACK,KAAD,CAAW,CACnBJ,cAAc,CAACI,KAAK,CAACiB,MAAN,CAAaC,KAAd,CAAd,CACAhB,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACiB,MAAN,CAAaC,KAAzB,EACD,CANH,EAXF,cAmBE,eAAQ,IAAI,CAAC,MAAb,sBAnBF,cAoBE,oBAAKrB,UAAL,EApBF,CAqBGA,UAAU,GAAK,KAAf,cACC,iDADD,CAEGA,UAAU,GAAK,IAAf,cACF,sEADE,CAGF,EA1BJ,GAfF,GADF,CA+CD,CA9ED,CAgFA,cAAeL,QAAf"},"metadata":{},"sourceType":"module"}