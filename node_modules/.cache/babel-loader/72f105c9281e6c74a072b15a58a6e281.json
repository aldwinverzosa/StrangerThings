{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cohort=\"2208-ftb-et-web-ft\";var strangerThings=\"https://strangers-things.herokuapp.com/api\";var RegUser=function RegUser(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newUser=_useState2[0],setNewUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(\"NAME AND PASSWORD\",newUser,newPassword);// console.log(\"registerUser\");\n_context.next=4;return fetch(\"\".concat(strangerThings,\"/\").concat(cohort,\"/users/register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user:{username:newUser,password:newPassword}})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;console.log(\"data\",data);console.log(\"data2\",data.data.token);setNewUser(\"\");setNewPassword(\"\");case 12:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"nav\",children:[/*#__PURE__*/_jsx(Link,{className:\"navBarLink\",to:\"/allposts\",children:\"ShowAllPosts\"}),/*#__PURE__*/_jsx(Link,{className:\"navBarLink\",to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{className:\"navBarLink\",to:\"/home\",children:\"Home\"})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUser,onChange:function onChange(event){setNewUser(event.target.value);// console.log(event.target.value);\n}}),\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPassword,onChange:function onChange(event){setNewPassword(event.target.value);// console.log(event.target.value);\n}}),/*#__PURE__*/_jsx(\"button\",{type:\"text\",children:\"Register\"})]})]});};export default RegUser;","map":{"version":3,"names":["React","useState","Link","cohort","strangerThings","RegUser","newUser","setNewUser","newPassword","setNewPassword","handleSubmit","event","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","user","username","password","response","json","data","token","target","value"],"sources":["/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/src/RegisterUser.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n\nconst cohort = \"2208-ftb-et-web-ft\";\nconst strangerThings = \"https://strangers-things.herokuapp.com/api\";\n\nconst RegUser = () => {\n  const [newUser, setNewUser] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    console.log(\"NAME AND PASSWORD\", newUser, newPassword);\n    // console.log(\"registerUser\");\n    const response = await fetch(`${strangerThings}/${cohort}/users/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user: {\n          username: newUser,\n          password: newPassword,\n        },\n      }),\n    });\n    const data = await response.json();\n    console.log(\"data\", data);\n    console.log(\"data2\", data.data.token);\n\n    setNewUser(\"\");\n    setNewPassword(\"\");\n  };\n  return (\n    <div>\n          <div> \n            <nav className=\"nav\">\n          <Link className=\"navBarLink\" to=\"/allposts\">ShowAllPosts</Link>\n          <Link className=\"navBarLink\" to=\"/login\">Login</Link>\n          <Link className=\"navBarLink\" to=\"/home\">Home</Link>\n            </nav>\n          </div>\n\n    <form onSubmit={handleSubmit}>\n      Name:\n      <input\n        type=\"text\"\n        value={newUser}\n        onChange={(event) => {\n          setNewUser(event.target.value);\n          // console.log(event.target.value);\n        }}\n      ></input>\n      Password:\n      <input\n        type=\"text\"\n        value={newPassword}\n        onChange={(event) => {\n          setNewPassword(event.target.value);\n          // console.log(event.target.value);\n        }}\n      ></input>\n      <button type=\"text\">Register</button>\n    </form>\n    </div>\n  );\n};\n\nexport default RegUser;\n"],"mappings":"4cAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAGA,GAAMC,OAAM,CAAG,oBAAf,CACA,GAAMC,eAAc,CAAG,4CAAvB,CAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,cAA8BJ,QAAQ,CAAC,EAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,eAAsCN,QAAQ,CAAC,EAAD,CAA9C,yCAAOO,WAAP,eAAoBC,cAApB,eACA,GAAMC,aAAY,4FAAG,iBAAOC,KAAP,sIACnBA,KAAK,CAACC,cAAN,GACAC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCR,OAAjC,CAA0CE,WAA1C,EACA;AAHmB,sBAIIO,MAAK,WAAIX,cAAJ,aAAsBD,MAAtB,oBAA+C,CACzEa,MAAM,CAAE,MADiE,CAEzEC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFgE,CAKzEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,IAAI,CAAE,CACJC,QAAQ,CAAEhB,OADN,CAEJiB,QAAQ,CAAEf,WAFN,CADa,CAAf,CALmE,CAA/C,CAJT,QAIbgB,QAJa,qCAgBAA,SAAQ,CAACC,IAAT,EAhBA,QAgBbC,IAhBa,eAiBnBb,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBY,IAApB,EACAb,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBY,IAAI,CAACA,IAAL,CAAUC,KAA/B,EAEApB,UAAU,CAAC,EAAD,CAAV,CACAE,cAAc,CAAC,EAAD,CAAd,CArBmB,uDAAH,kBAAZC,aAAY,4CAAlB,CAuBA,mBACE,oCACM,kCACE,aAAK,SAAS,CAAC,KAAf,wBACF,KAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,CAA6B,EAAE,CAAC,WAAhC,0BADE,cAEF,KAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,CAA6B,EAAE,CAAC,QAAhC,mBAFE,cAGF,KAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,CAA6B,EAAE,CAAC,OAAhC,kBAHE,GADF,EADN,cASA,cAAM,QAAQ,CAAEA,YAAhB,gCAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEJ,OAFT,CAGE,QAAQ,CAAE,kBAACK,KAAD,CAAW,CACnBJ,UAAU,CAACI,KAAK,CAACiB,MAAN,CAAaC,KAAd,CAAV,CACA;AACD,CANH,EAFF,0BAWE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAErB,WAFT,CAGE,QAAQ,CAAE,kBAACG,KAAD,CAAW,CACnBF,cAAc,CAACE,KAAK,CAACiB,MAAN,CAAaC,KAAd,CAAd,CACA;AACD,CANH,EAXF,cAmBE,eAAQ,IAAI,CAAC,MAAb,sBAnBF,GATA,GADF,CAiCD,CA3DD,CA6DA,cAAexB,QAAf"},"metadata":{},"sourceType":"module"}