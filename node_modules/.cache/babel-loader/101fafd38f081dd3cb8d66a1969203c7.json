{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{createRoot}from\"react-dom/client\";import LoginUserSubmit from\"./LogInUser\";import RegUser from\"./RegisterUser\";import ViewAllPosts from\"./AllPosts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cohort=\"2208-ftb-et-web-ft\";var strangerThings=\"https://strangers-things.herokuapp.com/api\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allPosts=_useState2[0],setAllPosts=_useState2[1];//cant use API if no useEffect?\nuseEffect(function(){var getAllData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getAllPosts();case 2:case\"end\":return _context.stop();}}},_callee);}));return function getAllData(){return _ref.apply(this,arguments);};}();getAllData();},[]);var getAllPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(strangerThings,\"/\").concat(cohort,\"/posts\"));case 2:response=_context2.sent;getAllPosts();_context2.next=6;return response.json();case 6:data=_context2.sent;setAllPosts(data.data.posts);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getAllPosts(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Home \"}),/*#__PURE__*/_jsx(\"span\",{children:\" CreatePost \"}),/*#__PURE__*/_jsx(\"span\",{children:\" AllPosts\"})]})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Hello from Stranger Things\"}),/*#__PURE__*/_jsx(RegUser,{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(LoginUserSubmit,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All Postings\"}),allPosts.map(function(post,i){return/*#__PURE__*/_jsx(\"p\",{children:post.title},i);})]})]});};var container=document.getElementById(\"app\");var root=createRoot(container);root.render(/*#__PURE__*/_jsx(App,{}));","map":{"version":3,"names":["useEffect","useState","createRoot","LoginUserSubmit","RegUser","ViewAllPosts","cohort","strangerThings","App","allPosts","setAllPosts","getAllData","getAllPosts","fetch","response","json","data","posts","map","post","i","title","container","document","getElementById","root","render"],"sources":["/Users/aldwin/Desktop/fullstackAcademy/Projects/StrangerThings/src/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport LoginUserSubmit from \"./LogInUser\";\nimport RegUser from \"./RegisterUser\";\nimport ViewAllPosts from \"./AllPosts\";\n\nconst cohort = \"2208-ftb-et-web-ft\";\nconst strangerThings = \"https://strangers-things.herokuapp.com/api\";\n\nconst App = () => {\n  const [allPosts, setAllPosts] = useState([]);\n\n  //cant use API if no useEffect?\n  useEffect(() => {\n    const getAllData = async () => {\n      await getAllPosts();\n    };\n    getAllData();\n  }, []);\n\n  const getAllPosts = async () => {\n    const response = await fetch(`${strangerThings}/${cohort}/posts`);\n    getAllPosts();\n    const data = await response.json();\n    setAllPosts(data.data.posts);\n  }\n\n  return (\n    <div>\n      <div>\n        <nav>\n          <span>Home </span>\n          <span> CreatePost </span>\n          <span> AllPosts</span>\n        </nav>\n      </div>\n      <h1>Hello from Stranger Things</h1>\n      <RegUser />\n      <div></div>\n      <LoginUserSubmit />\n      <div>\n        <h1>All Postings</h1>\n        {allPosts.map((post, i) => {\n          return <p key={i}>{post.title}</p>;\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst container = document.getElementById(\"app\");\nconst root = createRoot(container);\nroot.render(<App />);\n"],"mappings":"4cAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,gBAAP,KAA4B,aAA5B,CACA,MAAOC,QAAP,KAAoB,gBAApB,CACA,MAAOC,aAAP,KAAyB,YAAzB,C,wFAEA,GAAMC,OAAM,CAAG,oBAAf,CACA,GAAMC,eAAc,CAAG,4CAAvB,CAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAM,CAChB,cAAgCP,QAAQ,CAAC,EAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eAEA;AACAV,SAAS,CAAC,UAAM,CACd,GAAMW,WAAU,4FAAG,2JACXC,YAAW,EADA,uDAAH,kBAAVD,WAAU,0CAAhB,CAGAA,UAAU,GACX,CALQ,CAKN,EALM,CAAT,CAOA,GAAMC,YAAW,6FAAG,mLACKC,MAAK,WAAIN,cAAJ,aAAsBD,MAAtB,WADV,QACZQ,QADY,gBAElBF,WAAW,GAFO,uBAGCE,SAAQ,CAACC,IAAT,EAHD,QAGZC,IAHY,gBAIlBN,WAAW,CAACM,IAAI,CAACA,IAAL,CAAUC,KAAX,CAAX,CAJkB,wDAAH,kBAAXL,YAAW,2CAAjB,CAOA,mBACE,oCACE,kCACE,oCACE,+BADF,cAEE,sCAFF,cAGE,mCAHF,GADF,EADF,cAQE,kDARF,cASE,KAAC,OAAD,IATF,cAUE,cAVF,cAWE,KAAC,eAAD,IAXF,cAYE,oCACE,oCADF,CAEGH,QAAQ,CAACS,GAAT,CAAa,SAACC,IAAD,CAAOC,CAAP,CAAa,CACzB,mBAAO,mBAAYD,IAAI,CAACE,KAAjB,EAAQD,CAAR,CAAP,CACD,CAFA,CAFH,GAZF,GADF,CAqBD,CAvCD,CAyCA,GAAME,UAAS,CAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAAlB,CACA,GAAMC,KAAI,CAAGvB,UAAU,CAACoB,SAAD,CAAvB,CACAG,IAAI,CAACC,MAAL,cAAY,KAAC,GAAD,IAAZ"},"metadata":{},"sourceType":"module"}